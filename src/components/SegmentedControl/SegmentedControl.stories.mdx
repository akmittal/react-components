import { ArgsTable, Canvas, Meta, Story } from "@storybook/addon-docs";
import SegmentedControl from "./SegmentedControl";
import { ICONS } from "../Icon";

<Meta title="Segmented Control" component={SegmentedControl} />

export const Template = (args) => (
  <div>
    <SegmentedControl
      {...args}
      onChange={(event) => {
        let tabs = document.querySelectorAll('button[role="tab"]');
        var tabContent = document.getElementById(
          event.target.getAttribute("aria-controls")
        );
        tabs.forEach((tab) => {
          if (tab == event.target) {
            tab.setAttribute("aria-selected", true);
            tabContent.removeAttribute("hidden");
          } else {
            tab.setAttribute("aria-selected", false);
            tabContent.setAttribute("hidden", true);
          }
        });
      }}
    />
    <div
      tabIndex="0"
      role="tabpanel"
      id="olm-tab"
      aria-labelledby="olm"
      hidden={false}
    >
      <p>
        A system to help you move from configuration management to application
        management across your hybrid cloud estate - through sharable, reusable,
        tiny applications called Charmed Operators.
      </p>
    </div>
    <div
      tabIndex="0"
      role="tabpanel"
      id="sdk-tab"
      aria-labelledby="sdk"
      hidden="hidden"
    >
      <p>
        A set of tools to help you write Charmed Operators and to package them
        as Charms.
      </p>
    </div>
    <div
      tabIndex="0"
      role="tabpanel"
      id="charmhub-tab"
      aria-labelledby="charmhub"
      hidden="hidden"
    >
      <p>
        A repository for charms - from Observability to Data to Identity and
        more.
      </p>
    </div>
  </div>
);

### Segmented Control

This is the [React](https://reactjs.org/) component for Vanilla [Segmented Control](https://vanillaframework.io/docs/patterns/segmented-control).
Segmented control can be used in two ways:

Secondary tabs: if the page already has a set of primary tabs used as navigation, this can be used as a sub-navigation of those primary tabs.

View switcher: in the case of a page in which the same piece of content is shown in more than one format, this component can be used as a switcher between the different views.

### Props

<ArgsTable of={SegmentedControl} />

### Default

<Canvas>
  <Story
    name="Default"
    args={{
      tabs: [
        {
          label: "OLM",
          id: "olm",
        },
        {
          label: "SDK",
          id: "sdk",
        },
        {
          label: "Charmhub",
          id: "charmhub",
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Dense

<Canvas>
  <Story
    name="Dense"
    args={{
      dense: true,
      tabs: [
        {
          label: "OLM",
          id: "olm",
        },
        {
          label: "SDK",
          id: "sdk",
        },
        {
          label: "Charmhub",
          id: "charmhub",
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### With Icons

<Canvas>
  <Story
    name="With Icons"
    args={{
      tabs: [
        {
          label: "OLM",
          id: "olm",
          icon: "information",
        },
        {
          label: "SDK",
          id: "sdk",
          icon: "information",
        },
        {
          label: "Charmhub",
          id: "charmhub",
          icon: "information",
        },
      ],
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
